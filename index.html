<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
        *{
    font-family: "Times New Roman";
    margin:0;
    padding:0;
    max-width=100vw;
    max-height=100vh;
}
body{
    position relative;
    background-color: #b5dff4;    
}

.container{
	position:relative;
	width:100vw;
	height:100vh;

}
#cart{
    margin:0;
    position:absolute;
    width:130%;
    height:auto;
    left:55%;
    margin-left:-65%;
    top:25%;
    transition: transform 0.25s linear;
}

#Link{
    position:absolute;
    text-align: center;
    top: 35%;
    width:90%;
    height:auto;
    left:45%;
    margin-left:-43%;
    color:black;
    font-size:15vw;
    display: none;
}



    </style>
</head>
<body id="body">
    <div class="container" id = "container">
        <img id="cart" class="cart" src="C:\Users\cbc039\Downloads\Mobile-Parallax-Tilt-Effect-jQuery-parallaxTilt\Mobile-Parallax-Tilt-Effect-jQuery-parallaxTilt\cart2.png" alt="Cart">
	
        
	<div id = "Link">
		<p>Supply chain the way you want it</p>
		<p id ="Link2">#reimagineretail</p>
	</div>
    </div>
    <script>
	var cart_img = document.querySelector('#cart');
        var container = document.querySelector('#container');
        var maxX = container.clientWidth  - cart_img.clientWidth;
        var maxY = container.clientHeight - cart_img.clientHeight;

	setTimeout(function(){
	        document.getElementById('cart').style.display = 'none';
		document.getElementById('Link').style.display = 'block';
	 },17000);
	
	cart_img.style.setProperty('-webkit-transform', "rotate3d(0,0,1," +(20)+ "deg)");
	cart_img.style.setProperty('-moz-transform', "rotate3d(0,0,1," +(20)+ "deg)");
	cart_img.style.setProperty('-o-transform', "rotate3d(0,0,1," +(20)+ "deg)");
	cart_img.style.setProperty('-ms-transform', "rotate3d(0,0,1," +(20)+ "deg)");
	setTimeout(function(){
	   cart_img.style.setProperty('-webkit-transform', "rotate3d(0,0,1," +(-20)+ "deg)");
	   cart_img.style.setProperty('-moz-transform', "rotate3d(0,0,1," +(-20)+ "deg)");
	   cart_img.style.setProperty('-os-transform', "rotate3d(0,0,1," +(-20)+ "deg)");
	   cart_img.style.setProperty('-ms-transform', "rotate3d(0,0,1," +(-20)+ "deg)");
	 },1000);
	   setTimeout(function(){
	   cart_img.style.setProperty('-webkit-transform', "rotate3d(0,0,1," +(0)+ "deg)");
	   cart_img.style.setProperty('-moz-transform', "rotate3d(0,0,1," +(0)+ "deg)");
	   cart_img.style.setProperty('-o-transform', "rotate3d(0,0,1," +(0)+ "deg)");
	   cart_img.style.setProperty('-ms-transform', "rotate3d(0,0,1," +(0)+ "deg)");
	   
	 },2000);
	 
	cart_img.style.setProperty('-webkit-transition',"transform 0.75s linear");
	cart_img.style.setProperty('-moz-transition',"transform 0.75s linear");
    	cart_img.style.setProperty('-o-transition',"transform 0.75s linear");
	cart_img.style.setProperty('-ms-transition',"transform 0.75s linear");


        function handleOrientation(event) {

            
            var y = event.gamma; // In degree in the range [-90,90]
	    var x = event.alpha;
	    var y2 = -(event.gamma);
	    cart_img.style.setProperty('-webkit-transition',"transform 0.15s linear");
	    cart_img.style.setProperty('-moz-transition',"transform 0.15s linear");
	    cart_img.style.setProperty('-o-transition',"transform 0.15s linear");
	    cart_img.style.setProperty('-ms-transition',"transform 0.15s linear");



	    if (x==-180){
	    cart_img.style.setProperty('-webkit-transform', "rotate3d(0,0,1," +((180-y))+ "deg)");
	    cart_img.style.setProperty('-moz-transform', "rotate3d(0,0,1," +((180-y))+ "deg)");
	    cart_img.style.setProperty('-o-transform', "rotate3d(0,0,1," +((180-y))+ "deg)");
	    cart_img.style.setProperty('-ms-transform', "rotate3d(0,0,1," +((180-y))+ "deg)");
		}
	
	else{
	    
	    cart_img.style.setProperty('-webkit-transform', "rotate3d(0,0,1," +y+ "deg)");
	    cart_img.style.setProperty('-moz-transform', "rotate3d(0,0,1," +y+ "deg)");
	    cart_img.style.setProperty('-o-transform', "rotate3d(0,0,1," +y+ "deg)");
	    cart_img.style.setProperty('-ms-transform', "rotate3d(0,0,1," +y+ "deg)");
        	}
	}
	if (typeof DeviceMotionEvent.requestPermission === 'function') {
 	 // iOS 13+
		DeviceOrientationEvent.requestPermision()
			.catch(() => {
				let button = document.createElement("button");
				button.innerHTML = "Give Access to read orientation";
				let body = document.getElementsByTagName("body")[0];
				body.appendChild(button);
				button.style.setProperty("display","block");
				button.style.setProperty("position","absolute");
				button.style.setProperty("width","200px");
				button.style.setProperty("height","50px");
				button.style.setProperty("top","40%");
				button.style.setProperty("left","25%");
				button.addEventListener ("click", reqpermission);
			throw error;
			})
			.then(() =>{
				if (response == 'granted') {
				window.addEventListener('deviceorientation', handleOrientation);
				}
			})
	} else {
  	// non iOS 13+
	
	window.addEventListener('deviceorientation', handleOrientation);
	}
	
	function reqpermission(){
		DeviceOrientationEvent.requestPermission()
		.then(response => {
  			if (response == 'granted') {
				window.addEventListener('deviceorientation', handleOrientation);
			}
		})
		.catch(console.error);
		button.style.setProperty("display","none");
	}	
    </script>
</body>
</html>